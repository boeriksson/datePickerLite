dfb1a836824792ba991064ec395b315c
'use strict';

var _jsJoda = require('js-joda');

var _model = require('./model');

describe('#firstWeekDay', function () {
    test('should return a monday in same week if given a thursday', function () {
        var givenDay = _jsJoda.LocalDate.parse('2018-05-11');
        expect((0, _model.firstWeekDay)(givenDay).dayOfWeek().toString()).toBe('MONDAY');
    });
});

describe('#parseWeekFromDay1', function () {
    test('should return an array result of a supplied function', function () {
        var startDate = _jsJoda.LocalDate.parse('2018-05-07');
        var expectedResult = ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'];
        var result = (0, _model.parseWeekFromDay1)(startDate)(function (date) {
            return date.dayOfWeek().toString();
        });
        expect(result).toEqual(expectedResult);
    });
});

describe('#isSelectable', function () {
    var conf = {};
    beforeEach(function () {
        conf.displayDate = _jsJoda.LocalDate.parse('2018-05-01');
        conf.selectedStartDate = undefined;
        conf.selectedEndDate = undefined;
        conf.allowedStartDate = undefined;
        conf.allowedEndDate = undefined;
    });
    afterEach(function () {
        conf = {};
    });

    test('should be selectable if no allowedRange set', function () {
        expect((0, _model.isSelectable)(_jsJoda.LocalDate.parse('2018-05-11'), conf)).toBe(true);
    });
});

describe('#populateMonthDisplay', function () {
    var conf = {};
    beforeEach(function () {
        conf.displayDate = _jsJoda.LocalDate.parse('2018-05-01');
        conf.selectedStartDate = undefined;
        conf.selectedEndDate = undefined;
        conf.allowedStartDate = undefined;
        conf.allowedEndDate = undefined;
    });

    afterEach(function () {
        conf = {};
    });

    test('last entry in first array returned should have property "inMonth: true"', function () {
        expect((0, _model.populateMonthDisplay)(conf)[0][6].inMonth).toBe(true);
    });

    test('entry in allowedRange should have "allowed: true"', function () {
        conf.allowedStartDate = _jsJoda.LocalDate.parse('2017-05-01');
        conf.allowedEndDate = _jsJoda.LocalDate.parse('2018-05-11');
        expect((0, _model.populateMonthDisplay)(conf)[0][0].allowed).toBe(true);
    });

    test('entry outside of allowedrange should have "allowed: false"', function () {
        conf.allowedStartDate = _jsJoda.LocalDate.parse('2017-05-01');
        conf.allowedEndDate = _jsJoda.LocalDate.parse('2017-05-11');
        expect((0, _model.populateMonthDisplay)(conf)[0][0].allowed).toBe(false);
    });

    describe('selectedRange', function () {
        beforeEach(function () {
            conf.selectedStartDate = _jsJoda.LocalDate.parse('2018-05-01');
            conf.selectedEndDate = _jsJoda.LocalDate.parse('2018-05-11');
        });
        test('entry in selectedrange should have "selected: true"', function () {
            expect((0, _model.populateMonthDisplay)(conf)[1][0].selected).toBe(true);
        });
        test('entry outside selectedrange should have "selected: false"', function () {
            var endOfSelectedRange = (0, _model.populateMonthDisplay)(conf)[1][4];
            expect(endOfSelectedRange.selected).toBe(true);
            expect(endOfSelectedRange.selectedEdge).toBe(true);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLnRlc3QuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJ0ZXN0IiwiZ2l2ZW5EYXkiLCJwYXJzZSIsImV4cGVjdCIsImRheU9mV2VlayIsInRvU3RyaW5nIiwidG9CZSIsInN0YXJ0RGF0ZSIsImV4cGVjdGVkUmVzdWx0IiwicmVzdWx0IiwiZGF0ZSIsInRvRXF1YWwiLCJjb25mIiwiYmVmb3JlRWFjaCIsImRpc3BsYXlEYXRlIiwic2VsZWN0ZWRTdGFydERhdGUiLCJ1bmRlZmluZWQiLCJzZWxlY3RlZEVuZERhdGUiLCJhbGxvd2VkU3RhcnREYXRlIiwiYWxsb3dlZEVuZERhdGUiLCJhZnRlckVhY2giLCJpbk1vbnRoIiwiYWxsb3dlZCIsInNlbGVjdGVkIiwiZW5kT2ZTZWxlY3RlZFJhbmdlIiwic2VsZWN0ZWRFZGdlIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBOztBQVFBQSxTQUFTLGVBQVQsRUFBMEIsWUFBTTtBQUM1QkMsU0FBSyx5REFBTCxFQUFnRSxZQUFNO0FBQ2xFLFlBQU1DLFdBQVcsa0JBQVVDLEtBQVYsQ0FBZ0IsWUFBaEIsQ0FBakI7QUFDQUMsZUFBTyx5QkFBYUYsUUFBYixFQUF1QkcsU0FBdkIsR0FBbUNDLFFBQW5DLEVBQVAsRUFBc0RDLElBQXRELENBQTJELFFBQTNEO0FBQ0gsS0FIRDtBQUlILENBTEQ7O0FBT0FQLFNBQVMsb0JBQVQsRUFBK0IsWUFBTTtBQUNqQ0MsU0FBSyxzREFBTCxFQUE2RCxZQUFNO0FBQy9ELFlBQU1PLFlBQVksa0JBQVVMLEtBQVYsQ0FBZ0IsWUFBaEIsQ0FBbEI7QUFDQSxZQUFNTSxpQkFBaUIsQ0FBQyxRQUFELEVBQVUsU0FBVixFQUFvQixXQUFwQixFQUFnQyxVQUFoQyxFQUEyQyxRQUEzQyxFQUFvRCxVQUFwRCxFQUErRCxRQUEvRCxDQUF2QjtBQUNBLFlBQU1DLFNBQVMsOEJBQWtCRixTQUFsQixFQUE2QixVQUFDRyxJQUFEO0FBQUEsbUJBQVVBLEtBQUtOLFNBQUwsR0FBaUJDLFFBQWpC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QUNBVCxtQkFBT3FCLG1CQUFtQkQsUUFBMUIsRUFBb0NqQixJQUFwQyxDQUF5QyxJQUF6QztBQUNBSCxtQkFBT3FCLG1CQUFtQkMsWUFBMUIsRUFBd0NuQixJQUF4QyxDQUE2QyxJQUE3QztBQUNILFNBSkQ7QUFLSCxLQWJEO0FBY0gsQ0E1Q0QiLCJmaWxlIjoibW9kZWwudGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvY2FsRGF0ZSB9IGZyb20gJ2pzLWpvZGEnXHJcblxyXG5pbXBvcnQge1xyXG4gICAgZmlyc3RXZWVrRGF5LFxyXG4gICAgaXNTZWxlY3RhYmxlLFxyXG4gICAgcGFyc2VXZWVrRnJvbURheTEsXHJcbiAgICBwb3B1bGF0ZU1vbnRoRGlzcGxheVxyXG59IGZyb20gJy4vbW9kZWwnXHJcblxyXG5cclxuZGVzY3JpYmUoJyNmaXJzdFdlZWtEYXknLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGEgbW9uZGF5IGluIHNhbWUgd2VlayBpZiBnaXZlbiBhIHRodXJzZGF5JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdpdmVuRGF5ID0gTG9jYWxEYXRlLnBhcnNlKCcyMDE4LTA1LTExJylcclxuICAgICAgICBleHBlY3QoZmlyc3RXZWVrRGF5KGdpdmVuRGF5KS5kYXlPZldlZWsoKS50b1N0cmluZygpKS50b0JlKCdNT05EQVknKVxyXG4gICAgfSlcclxufSlcclxuXHJcbmRlc2NyaWJlKCcjcGFyc2VXZWVrRnJvbURheTEnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGFuIGFycmF5IHJlc3VsdCBvZiBhIHN1cHBsaWVkIGZ1bmN0aW9uJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IExvY2FsRGF0ZS5wYXJzZSgnMjAxOC0wNS0wNycpXHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRSZXN1bHQgPSBbJ01PTkRBWScsJ1RVRVNEQVknLCdXRURORVNEQVknLCdUSFVSU0RBWScsJ0ZSSURBWScsJ1NBVFVSREFZJywnU1VOREFZJ11cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBwYXJzZVdlZWtGcm9tRGF5MShzdGFydERhdGUpKChkYXRlKSA9PiBkYXRlLmRheU9mV2VlaygpLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChleHBlY3RlZFJlc3VsdClcclxuICAgIH0pXHJcbn0pXHJcblxyXG5kZXNjcmliZSgnI2lzU2VsZWN0YWJsZScsICgpID0+IHtcclxuICAgIGxldCBjb25mID0ge31cclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAgIGNvbmYuZGlzcGxheURhdGUgPSBMb2NhbERhdGUucGFyc2UoJzIwMTgtMDUtMDEnKVxyXG4gICAgICAgIGNvbmYuc2VsZWN0ZWRTdGFydERhdGUgPSB1bmRlZmluZWRcclxuICAgICAgICBjb25mLnNlbGVjdGVkRW5kRGF0ZSA9IHVuZGVmaW5lZFxyXG4gICAgICAgIGNvbmYuYWxsb3dlZFN0YXJ0RGF0ZSA9IHVuZGVmaW5lZFxyXG4gICAgICAgIGNvbmYuYWxsb3dlZEVuZERhdGUgPSB1bmRlZmluZWRcclxuICAgIH0pXHJcbiAgICBhZnRlckVhY2goKCkgPT4ge1xyXG4gICAgICAgIGNvbmYgPSB7fVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgYmUgc2VsZWN0YWJsZSBpZiBubyBhbGxvd2VkUmFuZ2Ugc2V0JywgKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChpc1NlbGVjdGFibGUoTG9jYWxEYXRlLnBhcnNlKCcyMDE4LTA1LTExJyksIGNvbmYpKS50b0JlKHRydWUpXHJcbiAgICB9KVxyXG5cclxufSlcclxuXHJcbmRlc2NyaWJlKCcjcG9wdWxhdGVNb250aERpc3BsYXknLCAoKSA9PiB7XHJcbiAgICBsZXQgY29uZiA9IHt9XHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgICBjb25mLmRpc3BsYXlEYXRlID0gTG9jYWxEYXRlLnBhcnNlKCcyMDE4LTA1LTAxJylcclxuICAgICAgICBjb25mLnNlbGVjdGVkU3RhcnREYXRlID0gdW5kZWZpbmVkXHJcbiAgICAgICAgY29uZi5zZWxlY3RlZEVuZERhdGUgPSB1bmRlZmluZWRcclxuICAgICAgICBjb25mLmFsbG93ZWRTdGFydERhdGUgPSB1bmRlZmluZWRcclxuICAgICAgICBjb25mLmFsbG93ZWRFbmREYXRlID0gdW5kZWZpbmVkXHJcbiAgICB9KVxyXG5cclxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICAgICAgY29uZiA9IHt9XHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ2xhc3QgZW50cnkgaW4gZmlyc3QgYXJyYXkgcmV0dXJuZWQgc2hvdWxkIGhhdmUgcHJvcGVydHkgXCJpbk1vbnRoOiB0cnVlXCInLCAoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHBvcHVsYXRlTW9udGhEaXNwbGF5KGNvbmYpWzBdWzZdLmluTW9udGgpLnRvQmUodHJ1ZSlcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgnZW50cnkgaW4gYWxsb3dlZFJhbmdlIHNob3VsZCBoYXZlIFwiYWxsb3dlZDogdHJ1ZVwiJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbmYuYWxsb3dlZFN0YXJ0RGF0ZSA9IExvY2FsRGF0ZS5wYXJzZSgnMjAxNy0wNS0wMScpXHJcbiAgICAgICAgY29uZi5hbGxvd2VkRW5kRGF0ZSA9IExvY2FsRGF0ZS5wYXJzZSgnMjAxOC0wNS0xMScpXHJcbiAgICAgICAgZXhwZWN0KHBvcHVsYXRlTW9udGhEaXNwbGF5KGNvbmYpWzBdWzBdLmFsbG93ZWQpLnRvQmUodHJ1ZSlcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgnZW50cnkgb3V0c2lkZSBvZiBhbGxvd2VkcmFuZ2Ugc2hvdWxkIGhhdmUgXCJhbGxvd2VkOiBmYWxzZVwiJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbmYuYWxsb3dlZFN0YXJ0RGF0ZSA9IExvY2FsRGF0ZS5wYXJzZSgnMjAxNy0wNS0wMScpXHJcbiAgICAgICAgY29uZi5hbGxvd2VkRW5kRGF0ZSA9IExvY2FsRGF0ZS5wYXJzZSgnMjAxNy0wNS0xMScpXHJcbiAgICAgICAgZXhwZWN0KHBvcHVsYXRlTW9udGhEaXNwbGF5KGNvbmYpWzBdWzBdLmFsbG93ZWQpLnRvQmUoZmFsc2UpXHJcbiAgICB9KVxyXG5cclxuICAgIGRlc2NyaWJlKCdzZWxlY3RlZFJhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25mLnNlbGVjdGVkU3RhcnREYXRlID0gTG9jYWxEYXRlLnBhcnNlKCcyMDE4LTA1LTAxJylcclxuICAgICAgICAgICAgY29uZi5zZWxlY3RlZEVuZERhdGUgPSBMb2NhbERhdGUucGFyc2UoJzIwMTgtMDUtMTEnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGVzdCgnZW50cnkgaW4gc2VsZWN0ZWRyYW5nZSBzaG91bGQgaGF2ZSBcInNlbGVjdGVkOiB0cnVlXCInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGV4cGVjdChwb3B1bGF0ZU1vbnRoRGlzcGxheShjb25mKVsxXVswXS5zZWxlY3RlZCkudG9CZSh0cnVlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGVzdCgnZW50cnkgb3V0c2lkZSBzZWxlY3RlZHJhbmdlIHNob3VsZCBoYXZlIFwic2VsZWN0ZWQ6IGZhbHNlXCInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZE9mU2VsZWN0ZWRSYW5nZSA9IHBvcHVsYXRlTW9udGhEaXNwbGF5KGNvbmYpWzFdWzRdXHJcbiAgICAgICAgICAgIGV4cGVjdChlbmRPZlNlbGVjdGVkUmFuZ2Uuc2VsZWN0ZWQpLnRvQmUodHJ1ZSlcclxuICAgICAgICAgICAgZXhwZWN0KGVuZE9mU2VsZWN0ZWRSYW5nZS5zZWxlY3RlZEVkZ2UpLnRvQmUodHJ1ZSlcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuIl19