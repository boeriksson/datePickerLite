{"version":3,"sources":["setup.js"],"names":["window","document","parent","self","adapter","use","originalNot","Object","getOwnPropertyDescriptor","Assertion","prototype","get","defineProperty","assign","assignedNot","apply","set","newNot","jestExpect","global","expect","originalMatchers","actual","chaiMatchers","config","module","archetype","context","translations","XMLHttpRequest"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;AACA;;;;AACA;;;;WAEiB,wE;IAAVA,M,QAAAA,M;;AACP,IAAMC,WAAWD,OAAOC,QAAxB;AACA,IAAMC,SAASF,MAAf;AACA,IAAMG,OAAOH,MAAb;;AAEA,uBAAU,EAAEI,SAAS,kCAAX,EAAV;;AAEA,eAAKC,GAAL;AACA,eAAKA,GAAL,CAAS,2BAAT;;AAEA;AACA,IAAMC,cAAcC,OAAOC,wBAAP,CAAgC,eAAKC,SAAL,CAAeC,SAA/C,EAA0D,KAA1D,EAAiEC,GAArF;AACAJ,OAAOK,cAAP,CAAsB,eAAKH,SAAL,CAAeC,SAArC,EAAgD,KAAhD,EAAuD;AACnDC,OADmD,iBAC7C;AACFJ,eAAOM,MAAP,CAAc,IAAd,EAAoB,KAAKC,WAAzB;AACA,eAAOR,YAAYS,KAAZ,CAAkB,IAAlB,CAAP;AACH,KAJkD;AAKnDC,OALmD,eAK/CC,MAL+C,EAKvC;AACR,aAAKH,WAAL,GAAmBG,MAAnB;AACA,eAAOA,MAAP;AACH;AARkD,CAAvD;;AAWA;AACA,IAAMC,aAAaC,OAAOC,MAA1B;;AAEA,IAAMA,SAAS,SAATA,MAAS,SAAU;AACrB,QAAMC,mBAAmBH,WAAWI,MAAX,CAAzB;AACA,QAAMC,eAAe,eAAKH,MAAL,CAAYE,MAAZ,CAArB;AACA,WAAOf,OAAOM,MAAP,CAAcU,YAAd,EAA4BF,gBAA5B,CAAP;AACH,CAJD;;AAMA,IAAMG,SAAS;AACXC,YAAQ,sBADG;AAEXC,eAAW;AAFA,CAAf;;AAKA;AACAnB,OAAOM,MAAP,CAAcM,MAAd,EAAsB;AAClBK,kBADkB;AAElBG,8BAFkB;AAGlBC,wCAHkB;AAIlBR,kBAJkB;AAKlBpB,kBALkB;AAMlBE,kBANkB;AAOlBC,cAPkB;AAQlBF,sBARkB;AASlB4B;AATkB,CAAtB;;AAYA;;;;;;;AAOA;AACA;AACA;AACA;AACA","file":"setup.js","sourcesContent":["import chai from 'chai';\nimport dirtyChai from 'dirty-chai';\nimport chaiEnzyme from 'chai-enzyme';\nimport context from './_mocks/context';\nimport translations from './_mocks/translations';\nimport {JSDOM} from 'jsdom';\nimport XMLHttpRequest from 'xhr2';\nimport { configure } from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\nimport 'raf/polyfill';\n\nconst {window} = new JSDOM(`<!DOCTYPE html><html><body>Hello world</body></html>`);\nconst document = window.document;\nconst parent = window;\nconst self = window;\n\nconfigure({ adapter: new Adapter() });\n\nchai.use(dirtyChai);\nchai.use(chaiEnzyme());\n\n// Make sure chai and jasmine \".not\" play nice together\nconst originalNot = Object.getOwnPropertyDescriptor(chai.Assertion.prototype, 'not').get;\nObject.defineProperty(chai.Assertion.prototype, 'not', {\n    get() {\n        Object.assign(this, this.assignedNot);\n        return originalNot.apply(this);\n    },\n    set(newNot) {\n        this.assignedNot = newNot;\n        return newNot;\n    }\n});\n\n// Combine both jest and chai matchers on expect\nconst jestExpect = global.expect;\n\nconst expect = actual => {\n    const originalMatchers = jestExpect(actual);\n    const chaiMatchers = chai.expect(actual);\n    return Object.assign(chaiMatchers, originalMatchers);\n};\n\nconst config = {\n    module: \"entercash-withdrawal\",\n    archetype: \"withdrawal\"\n};\n\n// Setup mocked global objects.\nObject.assign(global, {\n    config,\n    context,\n    translations,\n    expect,\n    window,\n    parent,\n    self,\n    document,\n    XMLHttpRequest\n});\n\n/**\n * Now we should attach some properties\n * of [window] object to [global] in\n * order to use them as usual, without \"window.\" prefix.\n * Only now because we assign some of them in <setupPolyfills.js>\n */\n\n// Object.assign(\n//     global,\n//     ['navigator', 'location', 'CustomEvent', 'Event', 'fetch']\n//         .reduce((res, key) => Object.assign({}, res, {[key]: global.window[key]}), {})\n// );\n"]}